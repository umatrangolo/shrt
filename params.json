{
  "name": "Shrt",
  "tagline": "URL shortener + analytics + search",
  "body": "# shrt                                                                                                                                                           [57/1966]\r\n\r\nSimple URL shortener + search.\r\n\r\n## Api\r\n\r\nA REST api is provided to shorten and use URLs.\r\n\r\n### Create a Shrt\r\n\r\nUsing Curl to create a Shrt for Wikipedia:\r\n\r\n```shell\r\n$ curl -v \\\r\n-XPUT \\\r\n-H \"Content-Type: application/json\" \\\r\n-d '{\"keyword\":\"wikipedia\", \"url\":\"http://www.wikipedia.org\",\"description\":\"Wikipedia\", \"tags\":[\"wikipedia\",\"truth\"]}' \\\r\nhttp://localhost:9000/shrts\r\n```\r\n\r\nwill return the json of the created Shrt:\r\n\r\n```JSON\r\n   {\r\n     \"keyword\":\"wikipedia\",\r\n     \"url\":\"http://www.wikipedia.org\",\r\n     \"token\":\"F0q4ab\",\r\n     \"description\":\"Wikipedia\",\r\n     \"tags\":[\"wikipedia\", \"truth\"],\r\n     \"count\":0\r\n   }\r\n```\r\n\r\nThe 'token' field is to be used to ask for the redirect. The URL to\r\nuse to get the redirect is proposed in the Location header of the HTTP\r\nresponse. The passed tags will be used to search for Shrts from the\r\nSearch UI.\r\n\r\nIt is also possible to propose a token for the being created Shrt:\r\n\r\n```shell\r\n$ curl -v \\\r\n-XPUT \\\r\n-H \"Content-Type: application/json\" \\\r\n-d '{\"keyword\":\"stackoverflow\", \"url\":\"http://stackoverflow.com\",\"description\":\"Q&A site\", \"token\":\"qa\"}' \\\r\nhttp://localhost:9000/shrts\r\n```\r\n\r\nAgain the response is the Shrt json:\r\n\r\n```JSON\r\n    {\r\n      \"keyword\":\"stackoverflow\",\r\n      \"url\":\"http://stackoverflow.com\",\r\n      \"token\":\"qa\",\r\n      \"description\":\"Q&A site\",\r\n      \"tags\":[],\r\n      \"count\":0\r\n    }\r\n```\r\n\r\nProper HTTP error codes will be returned if there is another Shrt\r\ncolliding on the same token (209) or for invalid input (400).\r\n\r\n### Use a Shrt\r\n\r\nGiven a previously created Shrt we can redirect to it as in:\r\n\r\n```shell\r\n$ curl -v -XGET http://localhost:9000/shrts/F0q4ab\r\n* Hostname was NOT found in DNS cache\r\n*   Trying ::1...\r\n* Connected to localhost (::1) port 9000 (#0)\r\n> GET /shrts/F0q4ab HTTP/1.1\r\n> User-Agent: curl/7.37.1\r\n> Host: localhost:9000\r\n> Accept: */*\r\n>\r\n< HTTP/1.1 303 See Other\r\n< Content-Type: application/json\r\n< Location: http://www.wikipedia.org\r\n< Content-Length: 0\r\n<\r\n* Connection #0 to host localhost left intact\r\n```\r\n\r\nDoing this from a browser rather then Curl will redirect you\r\nautomatically on the original page.\r\n\r\nThis will also inc the counter associated with the shrt.\r\n\r\n### List\r\n\r\nTo get a list of all known Shrts so far:\r\n\r\n```shell\r\n$ curl -XGET localhost:9000/shrts\r\n```\r\nreturns:\r\n\r\n```JSON\r\n[\r\n{\"keyword\":\"stackoverflow\",\"url\":\"http://stackoverflow.com\",\"token\":\"qa\",\"description\":\"Q&A site\",\"tags\":[\"\"],\"count\":0},\r\n{\"keyword\":\"wikipedia\",\"url\":\"http://www.wikipedia.org\",\"token\":\"F0q4ab\",\"description\":\"Wikipedia\",\"tags\":[\"\"],\"count\":1}\r\n]\r\n```\r\n\r\n### Most popular Shrts:\r\n\r\nTo get the top k most popular Shrts:\r\n\r\n```shell\r\n$ curl -XGET localhost:9000/shrts/popular?k=3\r\n```\r\nthat is\r\n\r\n```JSON\r\n[\r\n{\"keyword\":\"hn\",\"url\":\"http://www.h2n.com\",\"token\":\"3bgYVQ\",\"description\":\"This is Hacker News!\",\"tags\":[\"\"],\"count\":2},\r\n{\"keyword\":\"facebook\",\"url\":\"http://www.facebook.com\",\"token\":\"14Nx9S\",\"description\":\"This is Facebook!\",\"tags\":[\"\"],\"count\":1},\r\n{\"keyword\":\"gilt4\",\"url\":\"http://www.gilt6.com\",\"token\":\"wYrLYh\",\"description\":\"This is GILT!\",\"tags\":[\"\"],\"count\":1}\r\n]\r\n```\r\n\r\n### Delete a Shrt\r\n\r\nTo soft-delete a Shrt using Curl:\r\n\r\n```shell\r\n$ curl -XDELETE localhost:9000/shrts/3bgYVQ\r\n```\r\n\r\nthat will give back:\r\n\r\n```JSON\r\n{\"keyword\":\"hn\",\"url\":\"http://www.h2n.com\",\"token\":\"3bgYVQ\",\"description\":\"This is Hacker News!\",\"tags\":[\"\"],\"count\":2}\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}